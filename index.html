<!doctype html>

<html lang="en">
   
   
    <head>
       
       
        <!-- META -->
        <meta charset="utf-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
       
        <!-- PAGE TITLE -->
        <title> 信号与系统大作业</title>
       
        <!-- FAVICON -->
        <link rel="shortcut icon" href="assets/img/favicon.png">
       
        <!-- FONTS -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
       
        <!-- STYLESHEETS -->
        <link rel="stylesheet" type="text/css" href="assets/css/plugins.css">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">
        
        
    </head>

   
    <body>
    
       
       
        <!-- PRELOADER -->
        <div class="preloader">
           
            <div class="spinner"></div>
            
        </div>
        <!-- /PRELOADER -->
        
        
        <!-- MAIN CONTAINER -->
        <div id="container-main">
           
           
            <!-- INTRO -->
            <div id="intro">

               
                <img class="img-responsive logo" src="" alt="">

                <h1>根据音频拨号音，识别出当前所拨号码</h1>

                <p class="subline">小组成员：陈家俊、邓轶源、陈祺 <br>
               </p>


            </div>
            <!-- /INTRO -->
            
            
            <!-- TAB NAVIGATION -->
            <ul class="tab-navigation" role="tablist">
             
             
              <!-- NAV ITEM -->
              <li class="nav-item active">
               
                <a class="nav-link" data-toggle="tab" href="#频域图" role="tab"><span>频域图</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
              <!-- NAV ITEM -->
              <li class="nav-item">
               
                <a class="nav-link" data-toggle="tab" href="#代码" role="tab"><span>代码</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
              <!-- NAV ITEM -->
              <li class="nav-item">
               
                <a class="nav-link" data-toggle="tab" href="#结果以及总结" role="tab"><span>结果以及总结</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              

              
            </ul>
            <!-- /TAB NAVIGATION -->

           
            <!-- TAB CONTENT -->
            <div class="tab-content">


                <!-- TAB PANEL ( WORK ) -->
                <div class="tab-pane fade in active" id="频域图" role="tabpanel">
                   
                   
                    <!-- ROW -->
                    <div class="row">


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-1-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5>部分不同拨号音的频谱图</h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-1.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-1-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-1.jpg" alt="image">

                                    <h4></h4>
                                    <p class="subline"></p>

                                    <p></p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-2-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5></h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-2.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-2-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-2.jpg" alt="image">

                                    <h4></h4>
                                    <p class="subline"></p>

                                    <p></p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-3-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5></h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-3.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-3-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-3.jpg" alt="image">

                                    <h4></h4>
                                    <p class="subline"> </p>

                                    <p></p>

                                    <p></p>

                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->
                        
                        
                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-4-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5></h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-4.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-4-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-4.jpg" alt="image">

                                    <h4></h4>
                                    <p class="subline"></p>

                                    <p> </p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->
                        
                    
                    </div>
                    <!-- /ROW -->

               
                </div>
                <!-- /TAB PANEL ( WORK ) -->
                
                <div class="tlinks">Collect from <a href="http://www.cssmoban.com/" >建站模板</a></div>
                <!-- TAB PANEL ( ABOUT ) -->
                <div class="tab-pane fade" id="代码" role="tabpanel">
                    
                    
                    <img class="img-responsive" src="assets/img/about.jpg" alt="about">
                    
                    <h4>这是我们制作的pyqt的可视化界面</h4>

                    <p>可视化界面部分代码：<br>class Ui_MainWindow(object):<br>
                        def setupUi(self, MainWindow):<br>
                        MainWindow.setObjectName("MainWindow")<br>
                        MainWindow.resize(400, 350)<br>
                        MainWindow.setMinimumSize(QtCore.QSize(400, 350))<br>
                        MainWindow.setMaximumSize(QtCore.QSize(400, 350))<br>
                        self.centralwidget = QtWidgets.QWidget(MainWindow)<br>
                        self.centralwidget.setObjectName("centralwidget")<br>
                        self.verticalLayoutWidget = QtWidgets.QWidget(self.centralwidget)<br>
                        self.verticalLayoutWidget.setGeometry(QtCore.QRect(40, 180, 65, 243))<br>
                        self.verticalLayoutWidget.setObjectName("verticalLayoutWidget")<br>
                        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.verticalLayoutWidget)<br>
                        self.verticalLayout_2.setContentsMargins(0, 0, 0, 0)<br>
                        self.verticalLayout_2.setObjectName("verticalLayout_2")<br>
                        self.label_4 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                        self.label_4.setObjectName("label_4")<br>
                        self.verticalLayout_2.addWidget(self.label_4)<br>
                        self.label_3 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                        self.label_3.setObjectName("label_3")<br>
                        self.verticalLayout_2.addWidget(self.label_3)<br>
                        self.label = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                        self.label.setObjectName("label")<br>
                        self.verticalLayout_2.addWidget(self.label)<br>
                        self.label_2 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                        self.label_2.setObjectName("label_2")<br>
                        self.verticalLayout_2.addWidget(self.label_2)<br>
                        self.horizontalSlider = QtWidgets.QSlider(self.centralwidget)<br>
                        self.horizontalSlider.setGeometry(QtCore.QRect(250, 450, 140, 32))<br>
                        self.horizontalSlider.setOrientation(QtCore.Qt.Horizontal)<br>
                        self.horizontalSlider.setObjectName("horizontalSlider")<br>
                        self.horizontalSlider.setRange(0,200)<br>
                        self.horizontalSlider_2 = QtWidgets.QSlider(self.centralwidget)<br>
                        self.horizontalSlider_2.setGeometry(QtCore.QRect(250, 450, 140, 32))<br>
                        self.horizontalSlider_2.setOrientation(QtCore.Qt.Horizontal)<br>
                        self.horizontalSlider_2.setObjectName("horizontalSlider_2")<br>
                        self.horizontalSlider_2.setRange(2, 4)<br>
                        self.lineEdit = QtWidgets.QLineEdit(self.centralwidget)<br>
                        self.lineEdit.setGeometry(QtCore.QRect(90, 210, 113, 20))<br>
                        self.lineEdit.setObjectName("lineEdit")<br>
                        self.lineEdit_2 = QtWidgets.QLineEdit(self.centralwidget)<br>
                        self.lineEdit_2.setGeometry(QtCore.QRect(90, 340, 113, 20))<br>
                        self.lineEdit_2.setObjectName("lineEdit_2")<br>
                        self.lineEdit_3 = QtWidgets.QLineEdit(self.centralwidget)<br>
                        self.lineEdit_3.setGeometry(QtCore.QRect(90, 270, 113, 20))<br>
                        self.lineEdit_3.setObjectName("lineEdit_3")<br>
                        self.lineEdit_4 = QtWidgets.QLineEdit(self.centralwidget)<br>
                        self.lineEdit_4.setGeometry(QtCore.QRect(90, 400, 113, 20))<br>
                        self.lineEdit_4.setObjectName("lineEdit_4")<br>
                        self.label_5 = QtWidgets.QLabel(self.centralwidget)<br>
                        self.label_5.setGeometry(QtCore.QRect(250, 480, 51, 21))<br>
                        self.label_5.setObjectName("label_5")<br>
                        self.label_6 = QtWidgets.QLabel(self.centralwidget)<br>
                        self.label_6.setGeometry(QtCore.QRect(250, 540, 54, 12))<br>
                        self.label_6.setObjectName("label_6")<br>
                        self.label_7 = QtWidgets.QLabel(self.centralwidget)<br>
                        self.label_7.setGeometry(QtCore.QRect(340, 460, 54, 12))<br>
                        self.label_7.setText("")<br>
                        self.label_7.setObjectName("label_7")<br>
                        self.label_8 = QtWidgets.QLabel(self.centralwidget)
                        self.label_8.setGeometry(QtCore.QRect(340, 510, 54, 12))<br>
                        self.label_8.setText("")<br>
                        self.label_8.setObjectName("label_8")<br>
                        self.pushButton_2 = QtWidgets.QPushButton(self.centralwidget)<br>
                        self.pushButton_2.setGeometry(QtCore.QRect(150, 170, 75, 23))<br>
                        self.pushButton_2.setObjectName("pushButton_2")<br>
                        MainWindow.setCentralWidget(self.centralwidget)<br>
                        self.statusbar = QtWidgets.QStatusBar(MainWindow)<br>
                        self.statusbar.setObjectName("statusbar")<br>
                        MainWindow.setStatusBar(self.statusbar)<br>
                        self.menubar = QtWidgets.QMenuBar(MainWindow)<br>
                        self.menubar.setGeometry(QtCore.QRect(0, 0, 500, 23))<br>
                        self.menubar.setObjectName("menubar")<br>
                        self.menuFile = QtWidgets.QMenu(self.menubar)<br>
                        self.menuFile.setObjectName("menuFile")<br>
                        self.menuView = QtWidgets.QMenu(self.menubar)<br>
                        self.menuView.setObjectName("menuView")<br>
                        MainWindow.setMenuBar(self.menubar)<br>
                        self.actionOpen_file = QtWidgets.QAction(MainWindow)<br>
                        self.actionOpen_file.setObjectName("actionOpen_file")<br>
                        self.actionExit = QtWidgets.QAction(MainWindow)<br>
                        self.actionExit.setObjectName("actionExit")<br>
                        self.actionShow_chart = QtWidgets.QAction(MainWindow)<br>
                        self.actionShow_chart.setObjectName("actionShow_chart")<br>
                        self.actionAsd_a = QtWidgets.QAction(MainWindow)<br>
                        self.actionAsd_a.setObjectName("actionAsd_a")<br>
                        self.action_zero_signal = QtWidgets.QAction(MainWindow)<br>
                        self.action_zero_signal.setObjectName("action_zero_signal")<br>
                        self.action_frequency_signal = QtWidgets.QAction(MainWindow)<br>
                        self.action_frequency_signal.setObjectName("action_frequency_signal")<br>
                        self.menuFile.addSeparator()<br>
                        self.menuFile.addAction(self.actionOpen_file)<br>
                        self.menuFile.addSeparator()<br>
                        self.menuFile.addAction(self.actionExit)<br>
                        self.menuView.addAction(self.actionShow_chart)<br>
                        self.menuView.addAction(self.action_frequency_signal)<br>
                        self.menuView.addAction(self.actionAsd_a)<br>
                        self.menuView.addAction(self.action_zero_signal)<br>
                        self.menubar.addAction(self.menuFile.menuAction())<br>
                        self.menubar.addAction(self.menuView.menuAction())<br>
                        self.retranslateUi(MainWindow)<br>
                        self.link(MainWindow)<br>
                        self.label_7.setNum(0)<br>
                        self.label_8.setNum(2)<br>
                        self.horizontalSlider_2.valueChanged['int'].connect(self.label_8.setNum)<br>
                        self.horizontalSlider.valueChanged['int'].connect(self.label_7.setNum)<br>
                        QtCore.QMetaObject.connectSlotsByName(MainWindow)<br>


                        def link(self,MainWindow):<br>
                        self.actionOpen_file.triggered.connect(lambda: self.FileDialog(MainWindow))<br>
                        self.actionExit.triggered.connect(MainWindow.close)<br>
                        self.pushButton_2.clicked.connect(lambda :thread_it(recognition))<br>
                        self.action_frequency_signal.triggered.connect(action_frequency_signal)<br>
                        self.action_zero_signal.triggered.connect(action_zero_signal)<br>
                        self.actionAsd_a.triggered.connect(action_L_signal)<br>
                        self.actionShow_chart.triggered.connect(action_E_signal)<br>


                        def retranslateUi(self, MainWindow):<br>
                        _translate = QtCore.QCoreApplication.translate<br>
                        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))<br>
                        self.label_4.setText(_translate("MainWindow", "音频时长："))<br>
                        self.label_3.setText(_translate("MainWindow", "采样频率："))<br>
                        self.pushButton_2.setText(_translate("MainWindow", "识别"))<br>
                        self.menuFile.setTitle(_translate("MainWindow", "file"))<br>
                        self.actionOpen_file.setText(_translate("MainWindow", "open  file"))<br>
                        self.actionExit.setText(_translate("MainWindow", "Exit"))<br>



                        def FileDialog(self,MainWindow):<br>
                        fileName1, filetype = QtWidgets.QFileDialog.getOpenFileName(MainWindow,"选取文件","./","音频文件 (*.wav);;Text Files (*.txt)")<br>
                        if fileName1 == '':<br>
                        return None<br>
                        global path<br>
                        global yt, yf, x, E ,Z<br>
                        path = fileName1<br>
                        file = wave.open(path, "rb")<br>
                        params = file.getparams()<br>
                        self.nchannels, self.sampwidth, self.framerate, self.nframes = params[:4]<br>
                        x, yf, framerate, nframes, yt = fftc(path)<br>
                        E = calEnergy(yt)<br>
                        Z = calZero(yt)<br>
                        self.lineEdit.setText(str(round((1/self.framerate) * self.nframes,2)) + "s")<br>
                        self.lineEdit_3.setText(str(self.framerate) + "hz")<br>
                        def recognition():<br>
                        x, yf2, framerate, nframes, yt = fftc(path)<br>
                        b, a = signal.butter(11, 0.028, 'highpass')<br>
                        yt_updata = signal.filtfilt(b, a, yt)<br>
                        b, a = signal.butter(11, 0.0687, 'lowpass')<br>
                        yt_updata = signal.filtfilt(b, a, yt_updata)<br>
                        Z = calZero(yt_updata)<br>
                        E = calEnergy(yt_updata)<br>
                        count = Endpoint_detection(yt_updata,E,Z)<br>
                        math = continue_math(count, yt_updata , framerate)<br>
                        math_ = ''.join(math)<br>
                        QtWidgets.QMessageBox.information(MainWindow,"�����������",math_,QtWidgets.QMessageBox.Yes|QtWidgets.QMessageBox.No)<br>

                        if __name__ == "__main__":<br>
                        import sys<br>
                        app = QtWidgets.QApplication(sys.argv)<br>
                        MainWindow = QtWidgets.QMainWindow()<br>
                        ui = Ui_MainWindow()<br>
                        ui.setupUi(MainWindow)<br>
                        MainWindow.show()<br>
                        sys.exit(app.exec_())<br>


                        if __name__=='__main__':<br>
                        main()<br>

                        def wave_analysis_single(efficient_data,framerate):<br>

                        time=np.arange(0,len(efficient_data[0]))*(1.0/framerate)<br>

                        df=framerate/(len(efficient_data[0])-1)<br>
                        freq=[df*n for n in range(0,len(efficient_data[0]))]<br>
                        transformed=np.fft.fft(efficient_data[0])<br>
                        d=int(len(transformed)/2)<br>
                        while freq[d]>2000:<br>
                        d-=10<br>
                        freq=freq[:d]<br>
                        transformed=transformed[:d]<br>
                        for i,data in enumerate(transformed):<br>
                        transformed[i]=abs(data)<br>
                        transformed=moving_average(transformed,5)<br>
                        transformed=moving_average(transformed,5)<br>
                        transformed=moving_average(transformed,5)<br>

                        local_max=[]<br>
                        for i in np.arange(1,len(transformed)-1):<br>
                        if transformed[i]>transformed[i-1] and transformed[i]>transformed[i+1]:<br>
                        local_max.append(transformed[i])<br>
                        local_max=sorted(local_max)<br>
                        loc1=np.where(transformed==local_max[-1])<br>
                        freq_1=freq[loc1[0][0]]<br>
                        loc1=np.where(transformed==local_max[-2])<br>
                        freq_2=freq[loc1[0][0]]<br>
                        print ('Frequency',freq_1,freq_2 )<br>
                        return freq_1,freq_2
                        <br>



                    </p>

                    <p></p>


                </div>
                <!-- /TAB PANEL ( ABOUT ) -->

               
                <!-- TAB PANEL ( SERVICE ) -->
                <div class="tab-pane fade" id="结果以及总结" role="tabpanel">
                    
                    
                    <!-- ROW -->
                    <div class="row">

                   
                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5>成果：
                                <br>1.结果得到相应的音频对应的频域图。相关图已在频域图展示<br>
                            2.得到每个数字的特定频域图<br>
                            3.得到UI界面界面输出音频时长以及采样频率<br>
                            不足之处：<br>1.在对噪音的处理方面没有做好导致数据没有那么准确.<br>
                            2.UI界面制作的不够美观<br>
                                3.部分按键音有失真

                                <img class="img-responsive" src="assets/img/work/12.jpg" alt="12">
                                <img class="img-responsive" src="assets/img/work/13.jpg" alt="13">

                            </h5>

                            <p>


                            </p>


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5></h5>

                            <p></p>


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="" aria-hidden="true"></i>
                            <h5></h5>

                            <p></p>


                        </div>
                        <!-- /COLUMN -->
                    
                    
                    </div>
                    <!-- /ROW -->


                </div>
                <!-- /TAB PANEL ( SERVICE ) -->

               
                <!-- TAB PANEL ( CONTACT ) -->

                    </form>
                    <!-- /CONTACT FORM --> 


                </div>
                <!-- /TAB PANEL ( CONTACT ) -->


            </div>
            <!-- /TAB CONTENT -->


            <!-- FOOTER -->
            <section id="footer">


                <!-- ROW -->
                <div class="row">


                    <!-- COLUMN -->
                    <div class="col-md-6  text-left">

                        <p>
                    </div>
                    <!-- /COLUMN -->


                    <!-- COLUMN -->
                    <div class="col-md-6  text-right">


                        <!-- SOCIAL ICONS -->
                        <ul class="social-icons">



                        </ul>
                        <!-- /SOCIAL ICONS -->


                    </div>
                    <!-- /COLUMN -->


                </div>
                <!-- ROW -->


            </section>
            <!-- /FOOTER -->
        
        
        </div>
        <!-- /MAIN CONTAINER -->
        
        
        
        <!-- BACKGROUND CONTENT -->
        <div class="background-content parallax-on">


            <!-- BACKGROUND CONTENT INNER -->
            <div class="background-content-inner">

                <div class="background-overlay"></div>
                <div class="background-img layer" data-depth="0.1"></div>

            </div>
            <!-- /BACKGROUND CONTENT INNER -->


        </div>
        <!-- /BACKGROUND CONTENT -->
        
        
        
        <!-- JAVASCRIPTS -->
        <script type="text/javascript" src="assets/js/plugins.js"></script>
        <script type="text/javascript" src="assets/js/main.js"></script>
   
   
   
    </body> 
    
    
</html>