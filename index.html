<!doctype html>

<html lang="en">
   
   
    <head>
       
       
        <!-- META -->
        <meta charset="utf-8">
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
       
        <!-- PAGE TITLE -->
        <title>Studio21 - One Page</title>
       
        <!-- FAVICON -->
        <link rel="shortcut icon" href="assets/img/favicon.png">
       
        <!-- FONTS -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
       
        <!-- STYLESHEETS -->
        <link rel="stylesheet" type="text/css" href="assets/css/plugins.css">
        <link rel="stylesheet" type="text/css" href="assets/css/main.css">
        
        
    </head>

   
    <body>
    
       
       
        <!-- PRELOADER -->
        <div class="preloader">
           
            <div class="spinner"></div>
            
        </div>
        <!-- /PRELOADER -->
        
        
        <!-- MAIN CONTAINER -->
        <div id="container-main">
           
           
            <!-- INTRO -->
            <div id="intro">

               
                <img class="img-responsive logo" src="assets/img/logo.png" alt="logo">

                <h1>这是我们小组的信号与系统大作业</h1>

                <p class="subline">我们以将以四块内容来展示 </p>


            </div>
            <!-- /INTRO -->
            
            
            <!-- TAB NAVIGATION -->
            <ul class="tab-navigation" role="tablist">
             
             
              <!-- NAV ITEM -->
              <li class="nav-item active">
               
                <a class="nav-link" data-toggle="tab" href="#前期准备" role="tab"><span>前期准备</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
              <!-- NAV ITEM -->
              <li class="nav-item">
               
                <a class="nav-link" data-toggle="tab" href="#成员" role="tab"><span>成员</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
              <!-- NAV ITEM -->
              <li class="nav-item">
               
                <a class="nav-link" data-toggle="tab" href="#代码" role="tab"><span>代码</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
              <!-- NAV ITEM -->
              <li class="nav-item">
               
                <a class="nav-link" data-toggle="tab" href="#contact" role="tab"><span>Contact</span></a>
                
              </li>
              <!-- /NAV ITEM -->
              
              
            </ul>
            <!-- /TAB NAVIGATION -->

           
            <!-- TAB CONTENT -->
            <div class="tab-content">


                <!-- TAB PANEL ( WORK ) -->
                <div class="tab-pane fade in active" id="work" role="tabpanel">
                   
                   
                    <!-- ROW -->
                    <div class="row">


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-1-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5>不同拨号音的频谱图</h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-1.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-1-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-1.jpg" alt="image">

                                    <h4></h4>
                                    <p class="subline"></p>

                                    <p>这是我们在前期进行对不同音频的相应拨号音处理得到的不同频谱</p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-2-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5>不同拨号音的频谱图</h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-2.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-2-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-2.jpg" alt="image">

                                    <h4>UniversityX</h4>
                                    <p class="subline">Webdesign</p>

                                    <p>这是我们在前期进行对不同音频的相应拨号音处理得到的不同频谱</p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-3-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5>不同拨号音的频谱图</h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-3.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-3-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-3.jpg" alt="image">

                                    <h4>Umbrella Corp.</h4>
                                    <p class="subline">UI &amp; UX Design</p>

                                    <p>这是我们在前期进行对不同音频的相应拨号音处理得到的不同频谱</p>

                                    <p></p>

                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->
                        
                        
                        <!-- COLUMN -->
                        <div class="col-md-12">


                            <!-- ITEM -->
                            <a href="#" class="item" data-featherlight="#work-4-lightbox">


                                <!-- INFO -->
                                <div class="info">


                                    <!-- CONTAINER MID -->
                                    <div class="container-mid">

                                        <h5>不同拨号音的频谱图</h5>
                                        <p></p>

                                    </div>
                                    <!-- /CONTAINER MID -->


                                </div>
                                <!-- /INFO -->
                                
                                
                                <div class="bg-image" style="background-image: url(assets/img/work/work-4.jpg)"></div>
                                
                                
                                <!-- LIGHTBOX -->
                                <div id="work-4-lightbox" class="work-lightbox">


                                    <img class="img-responsive" src="assets/img/work/work-4.jpg" alt="image">

                                    <h4>Spirit-E</h4>
                                    <p class="subline">Webdesign</p>

                                    <p> 这是我们在前期进行对不同音频的相应拨号音处理得到的不同频谱</p>

                                    <p></p>


                                </div>
                                <!-- /LIGHTBOX -->


                            </a>
                            <!-- /ITEM -->


                        </div>
                        <!-- /COLUMN -->
                        
                    
                    </div>
                    <!-- /ROW -->

               
                </div>
                <!-- /TAB PANEL ( WORK ) -->
                
                <div class="tlinks">Collect from <a href="http://www.cssmoban.com/" >建站模板</a></div>
                <!-- TAB PANEL ( ABOUT ) -->
                <div class="tab-pane fade" id="成员" role="tabpanel">
                    
                    
                    <img class="img-responsive" src="assets/img/about.jpg" alt="about">
                    
                    <h4>这是我们制作的pyqt的可视化界面</h4>

                    <p>可视化界面部分代码：</p>

                    <p></p>


                </div>
                <!-- /TAB PANEL ( ABOUT ) -->

               
                <!-- TAB PANEL ( SERVICE ) -->
                <div class="tab-pane fade" id="代码" role="tabpanel">
                    
                    
                    <!-- ROW -->
                    <div class="row">

                   
                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                            <h5></h5>

                            <p>import wave<br>
                                import numpy as np<br>
                                from matplotlib import pyplot as plt<br>
                                from PyQt5 import QtCore, QtGui, QtWidgets<br>
                                from scipy.fftpack import fft,ifft<br>
                                import math<br>
                                import threading<br>
                                from scipy import signal<br>
                                import pyaudio<br>
                                def catch_number(y, framerate, nframes):<br>
                                frh = []<br>
                                frl = []<br>
                                math_list = []<br>
                                fruquent = [697, 770, 852, 941, 1209, 1336, 1477, 1633]<br>
                                math = {(697, 1209): '1', (697, 1336): '2', (697, 1477): '3', (697, 1633): 'A',<br>
                                (770, 1209): '4', (770, 1336): '5', (770, 1477): '6', (770, 1633): 'B',<br>
                                (852, 1209): '7', (852, 1336): '8', (852, 1477): '9', (852, 1633): 'C',<br>
                                (941, 1209): '*', (941, 1336): '0', (941, 1477): '#', (941, 1633): 'D'}<br>
                                for fr in fruquent:<br>
                                sum1 = sum(y[fr* nframes //framerate-(20* nframes //framerate):fr* nframes //framerate])<br>
                                sum2 = sum(y[fr* nframes //framerate:fr * nframes //framerate+(20* nframes //framerate)])<br>
                                sumx = sum1 + sum2<br>
                                if fr < 1000:<br>
                                frl.append([fr, sumx])<br>
                                else:<br>
                                frh.append([fr, sumx])<br>
                                frl = sorted(frl, key=lambda x: x[1])<br>
                                frh = sorted(frh, key=lambda x: x[1])<br>
                                frl = frl.pop()<br>
                                frh = frh.pop()<br>
                                if frh[1] < 10:<br>
                                return None<br>
                                if frl[1] < 10:<br>
                                return None<br>
                                math_list.append(frl[0])<br>
                                math_list.append(frh[0])<br>
                                math_list = tuple(math_list)<br>
                                for key, value in math.items():<br>
                                if key == math_list:<br>
                                return value<br>
                                def Endpoint_detection(wave_data, energy, Zero) :<br>
                                sum = 0<br>
                                energyAverage = 0<br>
                                for en in energy :<br>
                                sum = sum + en<br>
                                energyAverage = sum / len(energy)<br>

                                sum = 0<br>
                                for en in energy[:10] :<br>
                                sum = sum + en<br>
                                ML = sum / 10<br>
                                MH = energyAverage /4<br>
                                ML = (ML + MH) / 2<br>
                                sum = 0<br>
                                for zcr in Zero[:100] :<br>
                                sum = float(sum) + zcr<br>
                                Zs = sum / 100<br>

                                A = []<br>
                                B = []<br>
                                C = []<br>
                                print(MH,ML,Zs)<br>


                                flag = 0<br>
                                for i in range(len(energy)):<br>
                                if len(A) == 0 and flag == 0 and energy[i] > MH :<br>
                                A.append(i)<br>
                                flag = 1<br>
                                elif flag == 0 and energy[i] > MH and i - 21 > A[len(A) - 1]:<br>
                                A.append(i)<br>
                                flag = 1<br>
                                elif flag == 0 and energy[i] > MH and i - 21 <= A[len(A) - 1]:<br>
                                A = A[:len(A) - 1]<br>
                                flag = 1<br>

                                if flag == 1 and energy[i] < MH :<br>
                                A.append(i)<br>
                                flag = 0<br>

                                for j in range(len(A)) :<br>
                                i = A[j]<br>
                                if j % 2 == 1 :<br>
                                while i < len(energy) and energy[i] > ML :<br>
                                i = i + 1<br>
                                B.append(i)<br>
                                else :<br>
                                while i > 0 and energy[i] > ML :<br>
                                i = i - 1<br>
                                B.append(i)<br>



                                for j in range(len(B)) :<br>
                                i = B[j]<br>
                                if j % 2 == 1 :<br>
                                while i < len(Zero) and Zero[i] >= 3 * Zs :<br>
                                i = i + 1<br>
                                C.append(i)<br>
                                else :<br>
                                while i > 0 and Zero[i] >= 3 * Zs :<br>
                                i = i - 1<br>
                                C.append(i)<br>

                                for i, data in enumerate(C):<br>
                                if i % 2 == 1:<br>
                                x = C[i] - C[i-1]<br>
                                if x < 10:<br>
                                del C[i]<br>
                                del C[i-1]<br>


                                count = []<br>
                                for data in C:<br>
                                count.append(data * 256)<br>
                                return count<br>
                                def continue_math(count,yt,framerate):<br>
                                x = []<br>
                                math = []<br>
                                for i, data in enumerate(count):<br>
                                x.append(data)<br>
                                if (i + 1) % 2 == 0:<br>
                                y1 = yt[x[0]:x[1]]<br>
                                yf1 = abs(fft(y1)) / len(y1)<br>
                                yf2 = yf1[range(int(len(y1) / 2))]<br>
                                math_ = catch_number(yf2, framerate, x[1] - x[0])<br>
                                x = []<br>
                                if math_ == None:<br>
                                continue<br>
                                math.append(math_)<br>

                                return math<br>

                                def play():<br>
                                chunk = 2048<br>
                                wf = wave.open(path, 'rb')<br>
                                p = pyaudio.PyAudio()<br>
                                stream = p.open(format=p.get_format_from_width(wf.getsampwidth()), channels=wf.getnchannels(),rate=wf.getframerate(), output=True)<br>
                                data = wf.readframes(chunk)<br>
                                while True:<br>
                                data = wf.readframes(chunk)<br>
                                if data == "":<br>
                                break<br>
                                stream.write(data)<br>
                                stream.stop_stream()<br>
                                stream.close()<br>
                                p.terminate()<br>

                                print('play函数结束！')<br>
                                def thread_it(func, *args):<br>
                                t = threading.Thread(target=func, args=args)<br>
                                t.setDaemon(True)<br>
                                t.run()<br>

                                def thread_it_(func, *args):<br>
                                t = threading.Thread(target=func, args=args)<br>
                                t.setDaemon(True)<br>
                                t.start()<br>
                                def  fftc(path):<br>
                                file = wave.open(path, "rb")<br>
                                information = file.getparams()<br>
                                nchannels, sampwidth, framerate, nframes = information[:4]<br>
                                str_data = file.readframes(nframes)<br>
                                file.close()<br>
                                wave_data = np.fromstring(str_data, dtype=np.short)<br>
                                wave_data.shape = -1, 2<br>
                                wave_data = wave_data.T<br>
                                yt = wave_data[0]<br>
                                yf2 = yt<br>
                                x = np.arange(0, len(yf2) / 2) * framerate / nframes<br>
                                yf1 = abs(fft(yf2)) / len(yt)<br>
                                yf2 = yf1[range(int(len(yf2) / 2))]<br>
                                return x, yf2, framerate, nframes, yt<br>
                                def calEnergy(wave_data) :<br>
                                energy = []<br>
                                sum = 0<br>
                                for i in range(len(wave_data)) :<br>
                                sum = sum + (int(wave_data[i]) ** ui.horizontalSlider_2.value() )<br>
                                if (i + 1) % 256 == 0 :<br>
                                energy.append(sum)<br>
                                sum = 0<br>
                                elif i == len(wave_data) - 1 :<br>
                                energy.append(sum)<br>
                                return energy<br>
                                def calZero(waveData):<br>
                                frameSize = 256<br>
                                overLap = 0<br>
                                wlen = len(waveData)<br>
                                step = frameSize - overLap<br>
                                frameNum = math.ceil(wlen/step)<br>
                                zcr = np.zeros((frameNum,1))<br>
                                for i in range(frameNum):<br>
                                curFrame = waveData[np.arange(i*step, min(i*step+frameSize,wlen))]<br>
                                curFrame = curFrame - np.mean(curFrame) # zero-justified<br>
                                zcr[i] = sum(curFrame[0:-1]*curFrame[1::] <= 0)<br>
                                return zcr<br>

                                def wave_analysis(file_path):<br>
                                f=wave.open(file_path,'rb')<br>
                                num=file_path[-5]<br>
                                params=f.getparams()<br>
                                nchannels,samplewidth,framerate,nframes=params[:4]<br>
                                str_data=f.readframes(nframes)<br>
                                f.close()<br>
                                wave_data=np.fromstring(str_data,dtype=np.short)<br>
                                wave_data.shape=-1,1<br>
                                if nchannels==2:<br>
                                wave_data.shape=-1,2<br>
                                else:<br>
                                pass<br>
                                wave_data=wave_data.T<br>
                                time=np.arange(0,nframes)*(1.0/framerate)<br>
                                plt.subplot(211)<br>
                                plt.plot(time,wave_data[0],'r-')<br>
                                plt.xlabel('Time/s')<br>
                                plt.ylabel('Ampltitude')<br>
                                plt.title('Num '+num+' time/ampltitude')<br>
                                plt.show()<br>
                                df=framerate/(nframes-1)<br>
                                freq=[df*n for n in range(0,nframes)]<br>
                                transformed=np.fft.fft(wave_data[0])<br>
                                d=int(len(transformed)/2)<br>
                                while freq[d]>4000:<br>
                                d-=10<br>
                                freq=freq[:d]<br>
                                transformed=transformed[:d]<br>
                                for i,data in enumerate(transformed):<br>
                                transformed[i]=abs(data)<br>
                                plt.subplot(212)<br>
                                plt.plot(freq,transformed,'b-')<br>
                                plt.xlabel('Freq/Hz')<br>
                                plt.ylabel('Ampltitude')<br>
                                plt.title('Num '+num+' freq/ampltitude')<br>
                                local_max=[]<br>
                                for i in np.arange(1,len(transformed)-1):<br>
                                if transformed[i]>transformed[i-1] and transformed[i]>transformed[i+1]:<br>
                                local_max.append(transformed[i])<br>
                                local_max=sorted(local_max)<br>
                                loc1=np.where(transformed==local_max[-1])<br>
                                max_freq=freq[loc1[0][0]]<br>
                                loc1=np.where(transformed==local_max[-2])<br>
                                min_freq=freq[loc1[0][0]]<br>
                                plt.show()<br>
                                print ('Two freq ',max_freq,min_freq)<br>
                                return max_freq,min_freq<br>


                                def main():<br>
                                x=[]<br>
                                y=[]<br>
                                for i in np.arange(0,10):<br>
                                path=r'C:\Users\dengy\Desktop\123\3.wav'<br>
                                max_freq,min_freq=wave_analysis(path)<br>
                                x.append(i)<br>
                                y.append(max_freq)<br>
                                x.append(i)<br>
                                y.append(min_freq)<br>
                                plt.scatter(x,y,marker='*')<br>
                                plt.show()<br>

                                def action_frequency_signal():<br>
                                plt.xlim((0,2000))<br>
                                plt.plot(x, yf)<br>
                                plt.show()<br>

                                def action_zero_signal():<br>
                                plt.plot(Z)<br>
                                plt.show()<br>

                                def action_L_signal():<br>
                                plt.plot(E)<br>
                                plt.show()<br>

                                def action_E_signal():<br>
                                plt.plot(yt)<br>
                                plt.show()<br>

                                class Ui_MainWindow(object):<br>
                                def setupUi(self, MainWindow):<br>
                                MainWindow.setObjectName("MainWindow")<br>
                                MainWindow.resize(400, 350)<br>
                                MainWindow.setMinimumSize(QtCore.QSize(400, 350))<br>
                                MainWindow.setMaximumSize(QtCore.QSize(400, 350))<br>
                                self.centralwidget = QtWidgets.QWidget(MainWindow)<br>
                                self.centralwidget.setObjectName("centralwidget")<br>
                                self.verticalLayoutWidget = QtWidgets.QWidget(self.centralwidget)<br>
                                self.verticalLayoutWidget.setGeometry(QtCore.QRect(40, 180, 65, 243))<br>
                                self.verticalLayoutWidget.setObjectName("verticalLayoutWidget")<br>
                                self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.verticalLayoutWidget)<br>
                                self.verticalLayout_2.setContentsMargins(0, 0, 0, 0)<br>
                                self.verticalLayout_2.setObjectName("verticalLayout_2")<br>
                                self.label_4 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                                self.label_4.setObjectName("label_4")<br>
                                self.verticalLayout_2.addWidget(self.label_4)<br>
                                self.label_3 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                                self.label_3.setObjectName("label_3")<br>
                                self.verticalLayout_2.addWidget(self.label_3)<br>
                                self.label = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                                self.label.setObjectName("label")<br>
                                self.verticalLayout_2.addWidget(self.label)<br>
                                self.label_2 = QtWidgets.QLabel(self.verticalLayoutWidget)<br>
                                self.label_2.setObjectName("label_2")<br>
                                self.verticalLayout_2.addWidget(self.label_2)<br>
                                self.horizontalSlider = QtWidgets.QSlider(self.centralwidget)<br>
                                self.horizontalSlider.setGeometry(QtCore.QRect(250, 450, 140, 32))<br>
                                self.horizontalSlider.setOrientation(QtCore.Qt.Horizontal)<br>
                                self.horizontalSlider.setObjectName("horizontalSlider")<br>
                                self.horizontalSlider.setRange(0,200)<br>
                                self.horizontalSlider_2 = QtWidgets.QSlider(self.centralwidget)<br>
                                self.horizontalSlider_2.setGeometry(QtCore.QRect(250, 450, 140, 32))<br>
                                self.horizontalSlider_2.setOrientation(QtCore.Qt.Horizontal)<br>
                                self.horizontalSlider_2.setObjectName("horizontalSlider_2")<br>
                                self.horizontalSlider_2.setRange(2, 4)<br>
                                self.lineEdit.setGeometry(QtCore.QRect(90, 210, 113, 20))<br>
                                self.lineEdit.setObjectName("lineEdit")<br>
                                self.lineEdit_2 = QtWidgets.QLineEdit(self.centralwidget)<br>
                                self.lineEdit_2.setGeometry(QtCore.QRect(90, 340, 113, 20))<br>
                                self.lineEdit_2.setObjectName("lineEdit_2")<br>
                                self.lineEdit_3 = QtWidgets.QLineEdit(self.centralwidget)<br>
                                self.lineEdit_3.setGeometry(QtCore.QRect(90, 270, 113, 20))<br>
                                self.lineEdit_3.setObjectName("lineEdit_3")<br>
                                self.lineEdit_4 = QtWidgets.QLineEdit(self.centralwidget)<br>
                                self.lineEdit_4.setGeometry(QtCore.QRect(90, 400, 113, 20))<br>
                                self.lineEdit_4.setObjectName("lineEdit_4")<br>
                                self.label_5 = QtWidgets.QLabel(self.centralwidget)<br>
                                self.label_5.setGeometry(QtCore.QRect(250, 480, 51, 21))<br>
                                self.label_5.setObjectName("label_5")<br>
                                self.label_6 = QtWidgets.QLabel(self.centralwidget)<br>
                                self.label_6.setGeometry(QtCore.QRect(250, 540, 54, 12))<br>
                                self.label_6.setObjectName("label_6")<br>
                                self.label_7 = QtWidgets.QLabel(self.centralwidget)<br>
                                self.label_7.setGeometry(QtCore.QRect(340, 460, 54, 12))<br>
                                self.label_7.setText("")<br>
                                self.label_7.setObjectName("label_7")<br>
                                self.label_8 = QtWidgets.QLabel(self.centralwidget)<br>
                                self.label_8.setGeometry(QtCore.QRect(340, 510, 54, 12))<br>
                                self.label_8.setText("")<br>
                                self.label_8.setObjectName("label_8")<br>
                                self.pushButton = QtWidgets.QPushButton(self.centralwidget)<br>
                                self.pushButton.setGeometry(QtCore.QRect(150, 170, 75, 23))<br>
                                self.pushButton.setObjectName("pushButton")<br>
                                self.pushButton_2 = QtWidgets.QPushButton(self.centralwidget)<br>
                                self.pushButton_2.setGeometry(QtCore.QRect(270, 170, 75, 23))<br>
                                self.pushButton_2.setObjectName("pushButton_2")<br>
                                MainWindow.setCentralWidget(self.centralwidget)<br>
                                self.statusbar = QtWidgets.QStatusBar(MainWindow)<br>
                                self.statusbar.setObjectName("statusbar")<br>
                                MainWindow.setStatusBar(self.statusbar)<br>
                                self.menubar = QtWidgets.QMenuBar(MainWindow)<br>
                                self.menubar.setGeometry(QtCore.QRect(0, 0, 500, 23))<br>
                                self.menubar.setObjectName("menubar")<br>
                                self.menuFile = QtWidgets.QMenu(self.menubar)<br>
                                self.menuFile.setObjectName("menuFile")<br>
                                self.menuView = QtWidgets.QMenu(self.menubar)<br>
                                self.menuView.setObjectName("menuView")<br>
                                MainWindow.setMenuBar(self.menubar)<br>
                                self.actionOpen_file = QtWidgets.QAction(MainWindow)<br>
                                self.actionOpen_file.setObjectName("actionOpen_file")<br>
                                self.actionExit = QtWidgets.QAction(MainWindow)<br>
                                self.actionExit.setObjectName("actionExit")<br>
                                self.actionShow_chart = QtWidgets.QAction(MainWindow)<br>
                                self.actionShow_chart.setObjectName("actionShow_chart")<br>
                                self.actionAsd_a = QtWidgets.QAction(MainWindow)<br>
                                self.actionAsd_a.setObjectName("actionAsd_a")<br>
                                self.action_zero_signal = QtWidgets.QAction(MainWindow)<br>
                                self.action_zero_signal.setObjectName("action_zero_signal")<br>
                                self.action_frequency_signal = QtWidgets.QAction(MainWindow)<br>
                                self.action_frequency_signal.setObjectName("action_frequency_signal")<br>
                                self.menuFile.addSeparator()<br>
                                self.menuFile.addAction(self.actionOpen_file)<br>
                                self.menuFile.addSeparator()<br>
                                self.menuFile.addAction(self.actionExit)<br>
                                self.menuView.addAction(self.actionShow_chart)<br>
                                self.menuView.addAction(self.action_frequency_signal)<br>
                                self.menuView.addAction(self.actionAsd_a)<br>
                                self.menuView.addAction(self.action_zero_signal)<br>
                                self.menubar.addAction(self.menuFile.menuAction())<br>
                                self.menubar.addAction(self.menuView.menuAction())<br>
                                self.retranslateUi(MainWindow)<br>
                                self.link(MainWindow)<br>
                                self.label_7.setNum(0)<br>
                                self.label_8.setNum(2)<br>
                                self.horizontalSlider_2.valueChanged['int'].connect(self.label_8.setNum)<br>
                                self.horizontalSlider.valueChanged['int'].connect(self.label_7.setNum)<br>
                                QtCore.QMetaObject.connectSlotsByName(MainWindow)<br>


                                def link(self,MainWindow):<br>

                                self.actionOpen_file.triggered.connect(lambda: self.FileDialog(MainWindow))<br>
                                self.actionExit.triggered.connect(MainWindow.close)<br>
                                self.pushButton.clicked.connect(lambda :thread_it_(play))<br>
                                self.pushButton_2.clicked.connect(lambda :thread_it(recognition))<br>
                                self.action_frequency_signal.triggered.connect(action_frequency_signal)<br>
                                self.action_zero_signal.triggered.connect(action_zero_signal)<br>
                                self.actionAsd_a.triggered.connect(action_L_signal)<br>
                                self.actionShow_chart.triggered.connect(action_E_signal)<br>


                                def retranslateUi(self, MainWindow):<br>
                                _translate = QtCore.QCoreApplication.translate<br>
                                MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))<br>
                                self.label_4.setText(_translate("MainWindow", "音频时长："))<br>
                                self.label_3.setText(_translate("MainWindow", "采样频率："))<br>
                                self.pushButton.setText(_translate("MainWindow", "播放"))<br>
                                self.pushButton_2.setText(_translate("MainWindow", "识别"))<br>
                                self.menuFile.setTitle(_translate("MainWindow", "file"))<br>
                                self.actionOpen_file.setText(_translate("MainWindow", "open  file"))<br>
                                self.actionExit.setText(_translate("MainWindow", "Exit"))<br>



                                def FileDialog(self,MainWindow):<br>
                                fileName1, filetype = QtWidgets.QFileDialog.getOpenFileName(MainWindow,"选取文件","./","音频文件 (*.wav);;Text Files (*.txt)")<br>
                                if fileName1 == '':<br>
                                return None<br>
                                global path<br>
                                global yt, yf, x, E ,Z<br>
                                path = fileName1<br>
                                file = wave.open(path, "rb")<br>
                                params = file.getparams()<br>
                                self.nchannels, self.sampwidth, self.framerate, self.nframes = params[:4]<br>
                                x, yf, framerate, nframes, yt = fftc(path)<br>
                                E = calEnergy(yt)<br>
                                Z = calZero(yt)<br>
                                self.lineEdit.setText(str(round((1/self.framerate) * self.nframes,2)) + "s")<br>
                                self.lineEdit_3.setText(str(self.framerate) + "hz")<br>

                                def recognition():<br>
                                x, yf2, framerate, nframes, yt = fftc(path)<br>
                                b, a = signal.butter(11, 0.028, 'highpass')<br>
                                yt_updata = signal.filtfilt(b, a, yt)<br>
                                b, a = signal.butter(11, 0.0687, 'lowpass')<br>
                                yt_updata = signal.filtfilt(b, a, yt_updata)<br>
                                Z = calZero(yt_updata)<br>
                                E = calEnergy(yt_updata)<br>
                                count = Endpoint_detection(yt_updata,E,Z)<br>
                                math = continue_math(count, yt_updata , framerate)<br>
                                math_ = ''.join(math)<br>
                                QtWidgets.QMessageBox.information(MainWindow,"你输入的数字",math_,QtWidgets.QMessageBox.Yes|QtWidgets.QMessageBox.No)<br>

                                if __name__ == "__main__":<br>
                                import sys<br>
                                app = QtWidgets.QApplication(sys.argv)<br>
                                MainWindow = QtWidgets.QMainWindow()<br>
                                ui = Ui_MainWindow()<br>
                                ui.setupUi(MainWindow)<br>
                                MainWindow.show()<br>
                                sys.exit(app.exec_())<br>


                                if __name__=='__main__':<br>
                                main()<br>

                                def wave_analysis_single(efficient_data,framerate):<br>

                                time=np.arange(0,len(efficient_data[0]))*(1.0/framerate)<br>

                                df=framerate/(len(efficient_data[0])-1)<br>
                                freq=[df*n for n in range(0,len(efficient_data[0]))]<br>
                                transformed=np.fft.fft(efficient_data[0])<br>
                                d=int(len(transformed)/2)<br>
                                while freq[d]>2000:<br>
                                d-=10<br>
                                freq=freq[:d]<br>
                                transformed=transformed[:d]<br>
                                for i,data in enumerate(transformed):<br>
                                transformed[i]=abs(data)<br>
                                transformed=moving_average(transformed,5)<br>
                                transformed=moving_average(transformed,5)<br>
                                transformed=moving_average(transformed,5)<br>

                                local_max=[]<br>
                                for i in np.arange(1,len(transformed)-1):<br>
                                if transformed[i]>transformed[i-1] and transformed[i]>transformed[i+1]:<br>
                                local_max.append(transformed[i])<br>
                                local_max=sorted(local_max)<br>
                                loc1=np.where(transformed==local_max[-1])<br>
                                freq_1=freq[loc1[0][0]]<br>
                                loc1=np.where(transformed==local_max[-2])<br>
                                freq_2=freq[loc1[0][0]]<br>
                                print ('Frequency',freq_1,freq_2 )<br>
                                return freq_1,freq_2<br>



                            </p>


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-picture-o" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-keyboard-o" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-bullhorn" aria-hidden="true"></i>
                            <h5></h5>

                            <p></p>


                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-list" aria-hidden="true"></i>
                            <h5></h5>

                            <p><p>

                        </div>
                        <!-- /COLUMN -->


                        <!-- COLUMN -->
                        <div class="col-sm-12 text-left service-item">


                            <i class="fa fa-search" aria-hidden="true"></i>
                            <h5></h5>

                            <p></p>


                        </div>
                        <!-- /COLUMN -->
                    
                    
                    </div>
                    <!-- /ROW -->


                </div>
                <!-- /TAB PANEL ( SERVICE ) -->

               
                <!-- TAB PANEL ( CONTACT ) -->
                <div class="tab-pane fade" id="contact" role="tabpanel">
                    
                    
                    <!-- CONTACT FORM --> 
                    <form id="contact-form" action="assets/php/contact.php" method="post">


                        <input id="contact-form-name" type="text" name="name" class="form-control scroll-animated" placeholder="* Your Name">

                        <input id="contact-form-email" type="text" name="email" class="form-control scroll-animated" placeholder="* Your Email">

                        <!-- PHANTOM ELEMENT ( HONEYPOT CAPTCHA FOR SECURITY ) -->
                        <div class="fhp-input"><input id="contact-form-company" type="text" name="company" class="form-control"></div>
                        <!-- /PHANTOM ELEMENT ( HONEYPOT CAPTCHA FOR SECURITY ) -->

                        <textarea id="contact-form-message" name="message" class="form-control scroll-animated" placeholder="* Your Message"></textarea>

                        <button type="submit" class="form-control scroll-animated">Send Message<div class="circle"><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-angle-right" aria-hidden="true"></i></div></button>

                        <div class="success-message"><i class="fa fa-check" aria-hidden="true"></i>The Email was Sent Successfully!</div>


                    </form>
                    <!-- /CONTACT FORM --> 


                </div>
                <!-- /TAB PANEL ( CONTACT ) -->


            </div>
            <!-- /TAB CONTENT -->


            <!-- FOOTER -->
            <section id="footer">


                <!-- ROW -->
                <div class="row">


                    <!-- COLUMN -->
                    <div class="col-md-6  text-left">

                        <p>© 2017 Your Brand | Design  Template Foundation - More Templates <a href="http://www.cssmoban.com/" target="_blank" title="模板之家">模板之家</a> - Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a></p>

                    </div>
                    <!-- /COLUMN -->


                    <!-- COLUMN -->
                    <div class="col-md-6  text-right">


                        <!-- SOCIAL ICONS -->
                        <ul class="social-icons">


                            <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
                            <li><a href="#"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>


                        </ul>
                        <!-- /SOCIAL ICONS -->


                    </div>
                    <!-- /COLUMN -->


                </div>
                <!-- ROW -->


            </section>
            <!-- /FOOTER -->
        
        
        </div>
        <!-- /MAIN CONTAINER -->
        
        
        
        <!-- BACKGROUND CONTENT -->
        <div class="background-content parallax-on">


            <!-- BACKGROUND CONTENT INNER -->
            <div class="background-content-inner">

                <div class="background-overlay"></div>
                <div class="background-img layer" data-depth="0.1"></div>

            </div>
            <!-- /BACKGROUND CONTENT INNER -->


        </div>
        <!-- /BACKGROUND CONTENT -->
        
        
        
        <!-- JAVASCRIPTS -->
        <script type="text/javascript" src="assets/js/plugins.js"></script>
        <script type="text/javascript" src="assets/js/main.js"></script>
   
   
   
    </body> 
    
    
</html>